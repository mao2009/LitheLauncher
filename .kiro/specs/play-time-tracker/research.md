# Research Log: Play Time Tracker

## Summary
繝励Ξ繧､譎る俣霑ｽ霍｡讖溯・縺ｮ險ｭ險医↓縺翫＞縺ｦ縲√ご繝ｼ繝繝励Ο繧ｻ繧ｹ縺ｮ逶｣隕匁婿豕輔→繝・・繧ｿ繝｢繝・Ν縺ｮ諡｡蠑ｵ縺ｫ髢｢縺吶ｋ隱ｿ譟ｻ繧定｡後＞縺ｾ縺励◆縲よ里蟄倥・ `LauncherService` 縺・`subprocess.Popen` 繧貞茜逕ｨ縺励※繧ｲ繝ｼ繝繧定ｵｷ蜍輔＠縺ｦ縺・ｋ轤ｹ繧呈ｴｻ逕ｨ縺励√・繝ｭ繧ｻ繧ｹ逶｣隕悶→繧ｿ繧､繝槭・邂｡逅・ｒ陦後≧譁ｹ驥昴→縺励∪縺励◆縲ゅョ繝ｼ繧ｿ繝｢繝・Ν縺ｯ縲∵眠縺励＞ `play_sessions` 繝・・繝悶Ν繧貞ｰ主・縺励∵里蟄倥・ `games` 繝・・繝悶Ν縺ｨ `game_id` 繧剃ｻ九＠縺ｦ髢｢騾｣莉倥￠縺ｾ縺吶・
## Research Log Topics

### 1. Game Process Monitoring
- **Investigation**: Python 縺ｮ `subprocess` 繝｢繧ｸ繝･繝ｼ繝ｫ縺ｧ襍ｷ蜍輔＠縺溘・繝ｭ繧ｻ繧ｹ繧堤屮隕悶☆繧区婿豕輔ＡPopen.poll()` 繧・`Popen.wait()` 繧貞茜逕ｨ縺励※繝励Ο繧ｻ繧ｹ縺ｮ迥ｶ諷九ｒ螳壽悄逧・↓繝√ぉ繝・け縺吶ｋ縺九√≠繧九＞縺ｯ髱槫酔譛溘↓逶｣隕悶☆繧九・- **Source**: Python `subprocess` module documentation, Stack Overflow discussions on long-running process monitoring.
- **Implications**: `LauncherService` 縺ｫ繝励Ο繧ｻ繧ｹ逶｣隕悶Ν繝ｼ繝励ｒ邨・∩霎ｼ繧縺薙→縺ｧ縲√ご繝ｼ繝縺ｮ襍ｷ蜍輔°繧臥ｵゆｺ・∪縺ｧ繧呈ｭ｣遒ｺ縺ｫ霑ｽ霍｡縺ｧ縺阪ｋ縲・UI 繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縺ｪ縺ｮ縺ｧ縲ゞI 繧ｹ繝ｬ繝・ラ繧偵ヶ繝ｭ繝・け縺励↑縺・撼蜷梧悄逶｣隕悶′譛帙∪縺励＞縲・
### 2. Play Time Data Model
- **Investigation**: 繝励Ξ繧､譎る俣繝・・繧ｿ繧偵←縺ｮ繧医≧縺ｫ豌ｸ邯壼喧縺吶ｋ縺九よ里蟄倥・ `games` 繝・・繝悶Ν縺ｫ邱上・繝ｬ繧､譎る俣繧堤峩謗･霑ｽ蜉縺吶ｋ縺九√∪縺溘・譁ｰ縺励＞繝・・繝悶Ν縺ｧ蜷・・繝ｬ繧､繧ｻ繝・す繝ｧ繝ｳ縺ｮ螻･豁ｴ繧定ｨ倬鹸縺吶ｋ縺九・- **Source**: 譌｢蟄倥・ `database.py` 縺翫ｈ縺ｳ `GameRepository` 縺ｮ讒矩縲・- **Implications**: 蜷・・繝ｬ繧､繧ｻ繝・す繝ｧ繝ｳ繧定ｨ倬鹸縺吶ｋ `play_sessions` 繝・・繝悶Ν繧呈眠險ｭ縺吶ｋ縺薙→縺ｧ縲∫ｷ上・繝ｬ繧､譎る俣縺縺代〒縺ｪ縺上√そ繝・す繝ｧ繝ｳ縺斐→縺ｮ螻･豁ｴ繧ゆｿ晄戟縺ｧ縺阪ｋ縲ゅ％繧後↓繧医ｊ縲∝ｰ・擂逧・↑縲梧怙霑代・繝励Ξ繧､縲阪ｄ縲悟ｹｳ蝮・・繝ｬ繧､譎る俣縲阪↑縺ｩ縺ｮ諡｡蠑ｵ縺悟ｮｹ譏薙↓縺ｪ繧九ＡON DELETE CASCADE` 縺ｫ繧医ｊ縲√ご繝ｼ繝蜑企勁譎ゅ・繝・・繧ｿ謨ｴ蜷域ｧ繧よ球菫昴〒縺阪ｋ縲・
### 3. Launcher Shutdown Handling
- **Investigation**: 繝ｩ繝ｳ繝√Ε繝ｼ縺御ｺ域悄縺帙★邨ゆｺ・＠縺溷ｴ蜷茨ｼ井ｾ具ｼ壹ち繧ｹ繧ｯ繝槭ロ繝ｼ繧ｸ繝｣繝ｼ縺九ｉ縺ｮ蠑ｷ蛻ｶ邨ゆｺ・√け繝ｩ繝・す繝･・峨↓縲∬ｨ域ｸｬ荳ｭ縺ｮ繝励Ξ繧､譎る俣繧偵←縺ｮ繧医≧縺ｫ謇ｱ縺・°縲・- **Source**: PySide6/Qt 繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縺ｮ邨ゆｺ・う繝吶Φ繝医ワ繝ｳ繝峨Μ繝ｳ繧ｰ縲＾S 縺ｮ繧ｷ繧ｰ繝翫Ν蜃ｦ逅・↓髢｢縺吶ｋ荳闊ｬ逧・↑遏･隴倥・- **Implications**: `LauncherService` 縺後Λ繝ｳ繝√Ε繝ｼ邨ゆｺ・う繝吶Φ繝医ｒ繝輔ャ繧ｯ縺励√い繧ｯ繝・ぅ繝悶↑縺吶∋縺ｦ縺ｮ繧ｲ繝ｼ繝繝励Ο繧ｻ繧ｹ縺ｫ蟇ｾ縺励※縲√◎縺ｮ譎らせ縺ｾ縺ｧ縺ｮ繝励Ξ繧､譎る俣繧堤｢ｺ螳壹＠縺ｦ菫晏ｭ倥☆繧区ｩ滓ｧ九′蠢・ｦ√ゅ％繧後↓繧医ｊ縲√ョ繝ｼ繧ｿ謳榊､ｱ縺ｮ繝ｪ繧ｹ繧ｯ繧呈怙蟆城剞縺ｫ謚代∴繧九・
## Architecture Pattern Evaluation
- **Decision**: 譌｢蟄倥・ Service-Repository 繝代ち繝ｼ繝ｳ繧呈僑蠑ｵ縺励～LauncherService` 縺ｨ `GameService`縲～GameRepository` 髢薙〒蠖ｹ蜑ｲ繧貞・諡・☆繧九・- **Rationale**:
    - `LauncherService`: 繧ｲ繝ｼ繝繝励Ο繧ｻ繧ｹ縺ｮ繝ｩ繧､繝輔し繧､繧ｯ繝ｫ縺ｫ蟇・磁縺ｫ髢｢騾｣縺吶ｋ縺溘ａ縲∬ｨ域ｸｬ繝ｭ繧ｸ繝・け縺ｮ荳ｻ隕√↑雋ｬ蜍吶ｒ雋縺・・    - `GameService`: 繝峨Γ繧､繝ｳ繝ｭ繧ｸ繝・け縺ｨ縺励※繝励Ξ繧､譎る俣繝・・繧ｿ縺ｮ髮・ｨ医→邂｡逅・ｒ陦後＞縲ゞI 繧・ｻ悶・繧ｵ繝ｼ繝薙せ縺ｸ縺ｮ繧､繝ｳ繧ｿ繝ｼ繝輔ぉ繝ｼ繧ｹ繧呈署萓帙☆繧九・    - `GameRepository`: 繝・・繧ｿ豌ｸ邯壼喧縺ｮ隧ｳ邏ｰ・・QL 謫堺ｽ懶ｼ峨ｒ謚ｽ雎｡蛹悶☆繧九・- **Alternatives Considered**: 迢ｬ遶九＠縺・`PlayTimeService` 縺ｮ蟆主・縲ゅ＠縺九＠縲√ご繝ｼ繝襍ｷ蜍輔Λ繧､繝輔し繧､繧ｯ繝ｫ縺ｨ繧ｲ繝ｼ繝邂｡逅・し繝ｼ繝薙せ縺ｸ縺ｮ萓晏ｭ倥′蠑ｷ縺・◆繧√∵里蟄倥し繝ｼ繝薙せ縺ｸ縺ｮ諡｡蠑ｵ縺後ｈ繧翫す繝ｳ繝励Ν縺ｧ菫晏ｮ医＠繧・☆縺・→蛻､譁ｭ縲・
## Design Decisions & Risks
- **Decision**: `LauncherService` 蜀・↓繝励Ξ繧､譎る俣險域ｸｬ逕ｨ縺ｮ繧ｹ繝ｬ繝・ラ縺ｾ縺溘・髱槫酔譛溘ち繧ｹ繧ｯ繧貞ｰ主・縺励√ご繝ｼ繝繝励Ο繧ｻ繧ｹ繧堤屮隕悶☆繧九・- **Rationale**: UI 縺ｮ蠢懃ｭ疲ｧ繧堤ｶｭ謖√＠縺､縺､縲∬､・焚縺ｮ繧ｲ繝ｼ繝縺悟酔譎ゅ↓襍ｷ蜍輔＆繧後◆蝣ｴ蜷医↓繧ょｯｾ蠢懷庄閭ｽ縺ｨ縺吶ｋ縺溘ａ縲・- **Risks**:
    - **繝励Ο繧ｻ繧ｹ逶｣隕悶・豁｣遒ｺ諤ｧ**: 繧ｲ繝ｼ繝繝励Ο繧ｻ繧ｹ縺梧ｭ｣縺励￥讀懃衍縺ｧ縺阪↑縺・ｴ蜷茨ｼ井ｾ具ｼ壹ご繝ｼ繝縺檎峡閾ｪ縺ｮ繝ｩ繝ｳ繝√Ε繝ｼ繧定ｵｷ蜍輔＠縲∬ｦｪ繝励Ο繧ｻ繧ｹ縺檎ｵゆｺ・＠縺ｦ縺励∪縺・こ繝ｼ繧ｹ・峨↓縲∵ｭ｣遒ｺ縺ｪ繝励Ξ繧､譎る俣縺瑚ｨ倬鹸縺ｧ縺阪↑縺・庄閭ｽ諤ｧ縺後≠繧九・    - **繝ｪ繧ｽ繝ｼ繧ｹ豸郁ｲｻ**: 螟壽焚縺ｮ繧ｲ繝ｼ繝繧貞酔譎ゅ↓逶｣隕悶☆繧句ｴ蜷医√Μ繧ｽ繝ｼ繧ｹ豸郁ｲｻ縺悟｢怜刈縺吶ｋ蜿ｯ閭ｽ諤ｧ縲・    - **繧ｷ繧ｹ繝・Β譎る俣螟画峩縺ｮ蠖ｱ髻ｿ**: 繝ｦ繝ｼ繧ｶ繝ｼ縺後す繧ｹ繝・Β譎ょ綾繧呈焔蜍輔〒螟画峩縺励◆蝣ｴ蜷医√・繝ｬ繧､譎る俣險域ｸｬ縺ｫ蠖ｱ髻ｿ繧剃ｸ弱∴繧句庄閭ｽ諤ｧ縲・- **Mitigation**:
    - 繝励Ο繧ｻ繧ｹ逶｣隕悶・繝ｭ繝舌せ繝域ｧ繧貞髄荳翫＆縺帙ｋ縺溘ａ縺ｮ霑ｽ蜉縺ｮ繝偵Η繝ｼ繝ｪ繧ｹ繝・ぅ繝・け・井ｾ具ｼ壼ｭ舌・繝ｭ繧ｻ繧ｹ繧りｿｽ霍｡縺吶ｋ・峨・    - 貂ｬ螳壹＆繧後◆繝励Ξ繧､譎る俣縺ｮ螯･蠖捺ｧ繧呈､懆ｨｼ縺吶ｋ繝ｭ繧ｸ繝・け縺ｮ蟆主・縲・
## Parallelization Considerations
- **`LauncherService` 縺ｮ繝励Ξ繧､譎る俣險域ｸｬ繝ｭ繧ｸ繝・け**: 髱槫酔譛溷・逅・∪縺溘・蛻･繧ｹ繝ｬ繝・ラ縺ｧ縺ｮ螳溯｣・′謗ｨ螂ｨ縺輔ｌ繧九・- **`GameRepository` 縺ｮ繝・・繧ｿ繝吶・繧ｹ謫堺ｽ・*: 譌｢蟄倥・繝・・繧ｿ繝吶・繧ｹ繧ｳ繝阪け繧ｷ繝ｧ繝ｳ繝励・繝ｫ縺ｾ縺溘・繝医Λ繝ｳ繧ｶ繧ｯ繧ｷ繝ｧ繝ｳ邂｡逅・ｒ豢ｻ逕ｨ縺励∽ｸｦ陦悟・逅・↓繧医ｋ遶ｶ蜷医ｒ驕ｿ縺代ｋ縲・
