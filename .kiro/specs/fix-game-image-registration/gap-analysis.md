# Gap Analysis for fix-game-image-registration

## 1. Current State Investigation

### Domain-Related Assets
*   **Key Files/Modules**:
    *   `src/game_detail_dialog.py`: 繧ｲ繝ｼ繝縺ｮ逋ｻ骭ｲ繝ｻ邱ｨ髮・I繧堤ｮ｡逅・ゅΘ繝ｼ繧ｶ繝ｼ縺九ｉ縺ｮ蜈･蜉幢ｼ医ち繧､繝医Ν縲∬ｪｬ譏弱∫判蜒上ヱ繧ｹ縺ｪ縺ｩ・峨ｒ蜿励￠蜿悶ｋ縲・    *   `src/image_manager.py`: 逕ｻ蜒上ヵ繧｡繧､繝ｫ縺ｮ繧ｳ繝斐・縲∝炎髯､縲√い繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ繝・・繧ｿ繝・ぅ繝ｬ繧ｯ繝医Μ縺ｸ縺ｮ驟咲ｽｮ繧呈球蠖薙Ａcopy_image_to_appdata(game_id: str, source_image_path: Path)` 繝｡繧ｽ繝・ラ縺ｯ縲∫判蜒上ｒ `data/[game_id]/images/` 縺ｫ繧ｳ繝斐・縺励∵眠縺励＞繝代せ繧定ｿ斐☆縲・    *   `src/game_service.py`: 繧ｲ繝ｼ繝逋ｻ骭ｲ縲∬ｩｳ邏ｰ蜿門ｾ励∵峩譁ｰ縺ｪ縺ｩ縺ｮ繝薙ず繝阪せ繝ｭ繧ｸ繝・け繧呈球縺・ら判蜒上ｒ謇ｱ縺・Γ繧ｽ繝・ラ (`save_game_image`) 縺ｯ `game_id` 繧貞燕謠舌→縺励※縺・ｋ縲・    *   `src/game_repository.py`: 繧ｲ繝ｼ繝繝・・繧ｿ繧呈ｰｸ邯壼喧縲Ａimage_path` 繧ｫ繝ｩ繝繧剃ｿ晄戟縲・*   **Directory Layout**: `data/` 繝・ぅ繝ｬ繧ｯ繝医Μ驟堺ｸ九↓ `game_id` 縺斐→縺ｮ繧ｵ繝悶ョ繧｣繝ｬ繧ｯ繝医Μ縺御ｽ懈・縺輔ｌ縲√◎縺ｮ荳ｭ縺ｫ `images/` 繝・ぅ繝ｬ繧ｯ繝医Μ縺悟ｭ伜惠縺吶ｋ縲・*   **Reusable Components**: `ImageManager` 縺ｯ逕ｻ蜒丞・逅・・荳ｻ隕√さ繝ｳ繝昴・繝阪Φ繝医ＡGameService` 縺ｯ繝薙ず繝阪せ繝ｭ繧ｸ繝・け縺ｮ繧ｫ繝励そ繝ｫ蛹悶・*   **Architecture Patterns**: Service Layer, Repository Pattern, PySide6-based GUI繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縲・
### Conventions
*   **Naming**: Python讓呎ｺ悶・ `snake_case`縲・*   **Layering**: UI (e.g., `game_detail_dialog.py`) -> Service (`GameService`) -> Repository (`GameRepository`) -> Database (`database.py`) 縺ｮ譏守｢ｺ縺ｪ繝ｬ繧､繝､繝ｼ讒矩縲・*   **Dependency Direction**: 荳倶ｽ阪Ξ繧､繝､繝ｼ縺ｸ縺ｮ萓晏ｭ倥・險ｱ蜿ｯ縺輔ｌ繧九′縲∽ｸ贋ｽ阪Ξ繧､繝､繝ｼ縺ｸ縺ｮ逶ｴ謗･逧・↑萓晏ｭ倥・驕ｿ縺代ｋ縲・
### Integration Surfaces
*   **Data Models**: `Game` 繧ｨ繝ｳ繝・ぅ繝・ぅ (DB繧ｹ繧ｭ繝ｼ繝・ 縺ｯ `image_path` 繝輔ぅ繝ｼ繝ｫ繝峨ｒ謖√▽縲・*   **`ImageManager` 縺ｮ `copy_image_to_appdata`**: `game_id` (str) 縺ｨ `source_image_path` (Path) 繧貞ｼ墓焚縺ｫ蜿悶ｋ縲ゅ％繧後・繧ｲ繝ｼ繝縺梧里縺ｫ逋ｻ骭ｲ縺輔ｌ縲！D縺悟牡繧雁ｽ薙※繧峨ｌ縺ｦ縺・ｋ縺薙→繧貞燕謠舌→縺励※縺・ｋ縲・
## 2. Requirements Feasibility Analysis

### Technical Needs from EARS Requirements

*   **1. 繧ｲ繝ｼ繝逋ｻ骭ｲ蜑阪・蜈･蜉帙ョ繝ｼ繧ｿ菫晄戟縺ｮ繧ｵ繝昴・繝・*:
    *   **UI/Components (`game_detail_dialog.py`)**:
        *   逋ｻ骭ｲ繝輔ぅ繝ｼ繝ｫ繝峨・蛟､繧剃ｸ譎ら噪縺ｫ菫晄戟縺吶ｋ繝｡繧ｫ繝九ぜ繝 (QWidgets縺ｮ繝・・繧ｿ菫晄戟縲√∪縺溘・繝繧､繧｢繝ｭ繧ｰ縺ｮ繧､繝ｳ繧ｹ繧ｿ繝ｳ繧ｹ螟画焚)縲・        *   逕ｻ蜒上ヵ繧｡繧､繝ｫ繝代せ縺ｮ荳譎ら噪縺ｪ菫晄戟縲・        *   逋ｻ骭ｲ繧ｭ繝｣繝ｳ繧ｻ繝ｫ譎ゅ↓UI縺ｮ迥ｶ諷九ｒ繝ｪ繧ｻ繝・ヨ縺吶ｋ讖溯・縲・    *   **Logic (`GameService`)**:
        *   逋ｻ骭ｲ繝励Ο繧ｻ繧ｹ荳ｭ縺ｫ荳譎ら噪縺ｪ逕ｻ蜒上ヱ繧ｹ繧堤ｮ｡逅・＠縲∫匳骭ｲ螳御ｺ・凾縺ｫ豌ｸ邯壼喧縺吶ｋ繝ｭ繧ｸ繝・け縲・    *   **Storage**: 荳譎ら噪縺ｪ逕ｻ蜒上ｒ菫晏ｭ倥☆繧九◆繧√・繝・Φ繝昴Λ繝ｪ繝・ぅ繝ｬ繧ｯ繝医Μ縺ｾ縺溘・繝｡繧ｫ繝九ぜ繝縲・*   **2. 逕ｻ蜒上・豌ｸ邯壼喧縺ｨ繝輔ぃ繧､繝ｫ繝代せ邂｡逅・*:
    *   **Logic (`GameService`)**:
        *   逋ｻ骭ｲ謌仙粥譎ゅ↓荳譎ゆｿ晏ｭ倥＆繧後◆逕ｻ蜒上ｒ譛邨ら噪縺ｪ繧｢繝励Μ繝・・繧ｿ繝・ぅ繝ｬ繧ｯ繝医Μ縺ｫ遘ｻ蜍輔＆縺帙ｋ縲・        *   繧ｲ繝ｼ繝縺ｮ `image_path` 繝｡繧ｿ繝・・繧ｿ繧呈峩譁ｰ縺吶ｋ縲・    *   **Service (`ImageManager`)**:
        *   `game_id` 縺ｫ邏舌▼縺代※逕ｻ蜒上ｒ譛邨ゆｿ晏ｭ伜ｴ謇縺ｫ遘ｻ蜍輔＆縺帙ｋ (`ImageManager.copy_image_to_appdata` 縺ｮ諡｡蠑ｵ縺ｾ縺溘・譁ｰ隕上Γ繧ｽ繝・ラ)縲・        *   逕ｻ蜒上ヵ繧｡繧､繝ｫ縺檎ｴ謳阪∪縺溘・辟｡蜉ｹ縺ｧ縺ゅｋ縺九ｒ繝√ぉ繝・け縺吶ｋ繝舌Μ繝・・繧ｷ繝ｧ繝ｳ讖溯・縲・*   **3. 譌｢蟄倥ご繝ｼ繝縺ｮ逕ｻ蜒乗峩譁ｰ繝輔Ο繝ｼ**:
    *   **UI/Components (`game_detail_dialog.py`)**:
        *   譌｢蟄倥ご繝ｼ繝縺ｮ邱ｨ髮・凾縺ｫ譁ｰ縺励＞逕ｻ蜒上ｒ驕ｸ謚槭☆繧偽I縲・    *   **Logic (`GameService`)**:
        *   譌｢蟄倥・ `image_path` 繧堤ｽｮ縺肴鋤縺医ｋ蜃ｦ逅・・        *   蜿､縺・判蜒上ヵ繧｡繧､繝ｫ繧貞炎髯､縺吶ｋ繝ｭ繧ｸ繝・け縲・    *   **Service (`ImageManager`)**:
        *   譌｢蟄倥・逕ｻ蜒上ヵ繧｡繧､繝ｫ繧貞ｮ牙・縺ｫ蜑企勁縺吶ｋ繝｡繧ｽ繝・ラ (`delete_image`)縲・
### Gaps and Constraints

*   **Gap 1: 逋ｻ骭ｲ蜑阪・逕ｻ蜒丈ｸ譎ゆｿ晏ｭ倥Γ繧ｫ繝九ぜ繝縺ｮ谺螯・*: `ImageManager.copy_image_to_appdata` 縺ｯ `game_id` 繧貞ｿ・ｦ√→縺吶ｋ縺溘ａ縲√ご繝ｼ繝縺梧悴逋ｻ骭ｲ縺ｮ迥ｶ諷九〒縺ｯ蛻ｩ逕ｨ縺ｧ縺阪∪縺帙ｓ縲ら匳骭ｲ蜑阪↓驕ｸ謚槭＆繧後◆逕ｻ蜒上ｒ荳譎ら噪縺ｫ菫晏ｭ倥＠縲ゞI縺ｫ陦ｨ遉ｺ縺吶ｋ縺溘ａ縺ｮ繝｡繧ｫ繝九ぜ繝縺悟ｿ・ｦ√〒縺吶・*   **Gap 2: 逋ｻ骭ｲ逕ｻ髱｢縺ｮ蜈･蜉帙ョ繝ｼ繧ｿ縺ｮ荳譎ゆｿ晄戟縺ｮ譏守､ｺ逧・↑繝ｭ繧ｸ繝・け**: `game_detail_dialog.py` 縺ｧ繝ｦ繝ｼ繧ｶ繝ｼ縺悟・蜉帙＠縺溘ョ繝ｼ繧ｿ繧偵∫匳骭ｲ螳御ｺ・∪縺溘・繧ｭ繝｣繝ｳ繧ｻ繝ｫ縺ｾ縺ｧ縺ｮ髢薙∫｢ｺ螳溘↓菫晄戟縺吶ｋ繝ｭ繧ｸ繝・け・育音縺ｫ逕ｻ蜒上ヱ繧ｹ縺ｮ繧医≧縺ｪ繝輔ぃ繧､繝ｫ蜿ら・繧貞性繧蝣ｴ蜷茨ｼ峨・譏守､ｺ逧・↑險ｭ險医′蠢・ｦ√〒縺吶・*   **Gap 3: 荳譎ゆｿ晏ｭ倥＆繧後◆逕ｻ蜒上・繝ｩ繧､繝輔し繧､繧ｯ繝ｫ邂｡逅・・谺螯・*: 繝ｦ繝ｼ繧ｶ繝ｼ縺檎匳骭ｲ繧偵く繝｣繝ｳ繧ｻ繝ｫ縺励◆蝣ｴ蜷医↓縲∽ｸ譎ら噪縺ｫ菫晏ｭ倥＆繧後◆逕ｻ蜒上ヵ繧｡繧､繝ｫ繧帝←蛻・↓遐ｴ譽・☆繧九Γ繧ｫ繝九ぜ繝縺後≠繧翫∪縺帙ｓ縲・*   **Gap 4: 蜿､縺・判蜒上ヵ繧｡繧､繝ｫ縺ｮ蜑企勁繝ｭ繧ｸ繝・け縺ｮ谺螯・*: 譌｢蟄倥ご繝ｼ繝縺ｮ逕ｻ蜒上ｒ譖ｴ譁ｰ縺励◆蝣ｴ蜷医↓縲∽ｻ･蜑阪・逕ｻ蜒上ヵ繧｡繧､繝ｫ縺後ョ繧｣繧ｹ繧ｯ荳翫↓谿九ｊ邯壹￠繧句庄閭ｽ諤ｧ縺後≠繧翫∪縺吶ＡImageManager` 縺ｾ縺溘・ `GameService` 縺ｫ蜿､縺・ヵ繧｡繧､繝ｫ繧貞炎髯､縺吶ｋ繝ｭ繧ｸ繝・け縺悟ｿ・ｦ√〒縺吶・*   **Gap 5: 逕ｻ蜒上ヵ繧｡繧､繝ｫ縺ｮ繝舌Μ繝・・繧ｷ繝ｧ繝ｳ縺ｮ谺螯・*: 驕ｸ謚槭＆繧後◆逕ｻ蜒上ヵ繧｡繧､繝ｫ縺悟ｮ滄圀縺ｫ譛牙柑縺ｪ逕ｻ蜒上〒縺ゅｋ縺具ｼ育ｴ謳阪∝ｽ｢蠑上↑縺ｩ・峨ｒ遒ｺ隱阪☆繧九ヰ繝ｪ繝・・繧ｷ繝ｧ繝ｳ縺御ｸ崎ｶｳ縺励※縺・ｋ蜿ｯ閭ｽ諤ｧ縺後≠繧翫∪縺吶・
### Complexity Signals
*   **Workflows**: 逕ｻ蜒上・荳譎ゆｿ晏ｭ・-> 豌ｸ邯壼喧 -> (繧ｭ繝｣繝ｳ繧ｻ繝ｫ譎ゅ・) 遐ｴ譽・√→縺・≧隍・焚縺ｮ迥ｶ諷九ｒ謖√▽繝ｯ繝ｼ繧ｯ繝輔Ο繝ｼ邂｡逅・・*   **External Integrations**: 迚ｹ縺ｫ縺ゅｊ縺ｾ縺帙ｓ縲ょ・驛ｨ縺ｮ繝輔ぃ繧､繝ｫ繧ｷ繧ｹ繝・Β謫堺ｽ懊′荳ｻ縺ｧ縺吶・
## 3. Implementation Approach Options

### Option A: 譌｢蟄倥さ繝ｳ繝昴・繝阪Φ繝医・諡｡蠑ｵ

*   **縺ｩ縺ｮ繝輔ぃ繧､繝ｫ/繝｢繧ｸ繝･繝ｼ繝ｫ繧呈僑蠑ｵ縺吶ｋ縺・*:
    *   `src/game_detail_dialog.py`: 逋ｻ骭ｲ逕ｻ髱｢縺ｮ縺吶∋縺ｦ縺ｮ蜈･蜉帙ヵ繧｣繝ｼ繝ｫ繝峨・繝・・繧ｿ繧偵う繝ｳ繧ｹ繧ｿ繝ｳ繧ｹ螟画焚縺ｨ縺励※菫晄戟縺励√ム繧､繧｢繝ｭ繧ｰ縺ｮ `accepted`/`rejected` 繧ｷ繧ｰ繝翫Ν縺ｫ蠢懊§縺ｦ蜃ｦ逅・ｒ蛻・ｲ舌＆縺帙∪縺吶ら判蜒上ヱ繧ｹ繧よ枚蟄怜・縺ｨ縺励※荳譎ゆｿ晄戟縺励∪縺吶・    *   `src/game_service.py`: `register_game` 繝｡繧ｽ繝・ラ繧呈僑蠑ｵ縺励∽ｸ譎ら判蜒上ヱ繧ｹ繧貞女縺大叙繧九ｈ縺・↓縺励∪縺吶ら匳骭ｲ譎ゅ↓ `ImageManager` 繧貞他縺ｳ蜃ｺ縺励※逕ｻ蜒上ｒ譛邨ゅヱ繧ｹ縺ｫ遘ｻ蜍輔＆縺帙～image_path` 繧呈峩譁ｰ縺励∪縺吶・    *   `src/image_manager.py`:
        *   `save_temp_image(source_path: Path) -> Path`: `game_id` 縺ｪ縺励〒逕ｻ蜒上ｒ荳譎ゅョ繧｣繝ｬ繧ｯ繝医Μ縺ｫ繧ｳ繝斐・縺吶ｋ繝｡繧ｽ繝・ラ繧呈眠險ｭ縲・        *   `delete_image(image_path: Path)`: 謖・ｮ壹＆繧後◆繝代せ縺ｮ逕ｻ蜒上ｒ蜑企勁縺吶ｋ繝｡繧ｽ繝・ラ繧呈眠險ｭ縲・        *   `move_image_to_final_location(temp_path: Path, game_id: str) -> Path`: 荳譎ゆｿ晏ｭ倥＆繧後◆逕ｻ蜒上ｒ譛邨ら噪縺ｪ `data/[game_id]/images/` 縺ｫ遘ｻ蜍輔＆縺帙ｋ繝｡繧ｽ繝・ラ繧呈眠險ｭ縲・*   **繝医Ξ繝ｼ繝峨が繝・*:
    *   笨・譌｢蟄倥・繧｢繝ｼ繧ｭ繝・け繝√Ε縺ｨ繝代ち繝ｼ繝ｳ繧呈ｴｻ逕ｨ縺励√さ繝ｼ繝峨・霑ｽ蜉蝣ｴ謇縺御ｺ域ｸｬ縺励ｄ縺吶＞縲・    *   笶・`GameService` 縺ｮ `register_game` 縺檎判蜒丞・逅・・繝ｭ繧ｸ繝・け縺ｧ閧･螟ｧ蛹悶☆繧九Μ繧ｹ繧ｯ縲・    *   笶・`ImageManager` 縺ｮ繧､繝ｳ繧ｿ繝ｼ繝輔ぉ繝ｼ繧ｹ縺梧僑蠑ｵ縺輔ｌ繧九・
### Option B: 譁ｰ縺励＞繧ｳ繝ｳ繝昴・繝阪Φ繝医・菴懈・ (荳譎ら判蜒上ワ繝ｳ繝峨Λ)

*   **譁ｰ隕丈ｽ懈・縺ｮ逅・罰**: 逋ｻ骭ｲ蜑阪・荳譎ら噪縺ｪ逕ｻ蜒丞・逅・→繝ｩ繧､繝輔し繧､繧ｯ繝ｫ邂｡逅・→縺・≧縲～GameService` 繧・`ImageManager` 縺ｮ荳ｻ隕√↑雋ｬ蜍吶→縺ｯ逡ｰ縺ｪ繧玖ｲｬ莉ｻ繧貞・髮｢縺吶ｋ縺溘ａ縲・*   **邨ｱ蜷医・繧､繝ｳ繝・*:
    *   `src/temp_image_handler.py` (譁ｰ隕・: 驕ｸ謚槭＆繧後◆逕ｻ蜒上ｒ荳譎ら噪縺ｫ菫晏ｭ倥＠縲√◎縺ｮ繝ｩ繧､繝輔し繧､繧ｯ繝ｫ・育匳骭ｲ螳御ｺ・凾縺ｮ譛邨ゆｿ晏ｭ伜ｴ謇縺ｸ縺ｮ遘ｻ蜍輔√く繝｣繝ｳ繧ｻ繝ｫ譎ゅ・遐ｴ譽・ｼ峨ｒ邂｡逅・☆繧玖ｲｬ蜍吶ｒ謖√▽縲・    *   `src/game_detail_dialog.py`: 繝ｦ繝ｼ繧ｶ繝ｼ縺檎判蜒上ｒ驕ｸ謚槭☆繧九→縲～TempImageHandler` 繧貞他縺ｳ蜃ｺ縺励※荳譎ゆｿ晏ｭ倥＠縲∽ｸ譎ゅヱ繧ｹ繧貞女縺大叙縺｣縺ｦUI縺ｫ陦ｨ遉ｺ縲・    *   `src/game_service.py`: 繧ｲ繝ｼ繝逋ｻ骭ｲ譎ゅ↓ `TempImageHandler` 繧貞他縺ｳ蜃ｺ縺励∽ｸ譎ゆｿ晏ｭ倥＆繧後◆逕ｻ蜒上ｒ譛邨ゅヱ繧ｹ縺ｫ遘ｻ蜍輔＆縺帙ｋ縲・*   **雋ｬ莉ｻ縺ｮ蠅・阜**: `TempImageHandler` 縺ｯ荳譎ら噪縺ｪ逕ｻ蜒上・迚ｩ逅・ヵ繧｡繧､繝ｫ謫堺ｽ懊→迥ｶ諷狗ｮ｡逅・↓迚ｹ蛹悶ＡGameService` 縺ｯ繧ｲ繝ｼ繝繝・・繧ｿ縺ｮ豌ｸ邯壼喧縺ｨ `image_path` 繝｡繧ｿ繝・・繧ｿ縺ｮ譖ｴ譁ｰ縺ｫ髮・ｸｭ縲・
**繝医Ξ繝ｼ繝峨が繝・*:
*   笨・雋ｬ蜍吶・蛻・屬縺梧・遒ｺ縺ｫ縺ｪ繧翫∝推繝｢繧ｸ繝･繝ｼ繝ｫ縺ｮ蜃晞寔蠎ｦ縺碁ｫ倥∪繧九・*   笨・`GameService` 縺檎判蜒丞・逅・・隧ｳ邏ｰ縺九ｉ隗｣謾ｾ縺輔ｌ繧九・*   笶・譁ｰ縺励＞繧ｳ繝ｳ繝昴・繝阪Φ繝医・蟆主・縺ｫ繧医ｋ繝輔ぃ繧､繝ｫ謨ｰ蠅怜刈縲・*   笶・繧ｳ繝ｳ繝昴・繝阪Φ繝磯俣縺ｮ騾｣謳ｺ繝ｭ繧ｸ繝・け縺ｮ險ｭ險医′蠢・ｦ√・
### Option C: 繝上う繝悶Μ繝・ラ繧｢繝励Ο繝ｼ繝・(謗ｨ螂ｨ)

*   **邨・∩蜷医ｏ縺帶姶逡･**:
    *   **UI (`game_detail_dialog.py`) 諡｡蠑ｵ**: 逋ｻ骭ｲ逕ｻ髱｢縺ｮ蜈ｨ縺ｦ縺ｮ蜈･蜉帙ョ繝ｼ繧ｿ・育判蜒上ヱ繧ｹ繧貞性繧・峨ｒ繝繧､繧｢繝ｭ繧ｰ縺ｮ繧､繝ｳ繧ｹ繧ｿ繝ｳ繧ｹ螟画焚縺ｧ菫晄戟縲ら判蜒城∈謚樊凾縺ｫ縺ｯ縲～ImageManager` 縺ｮ荳譎ゆｿ晏ｭ俶ｩ溯・繧貞茜逕ｨ縲・    *   **`ImageManager` 諡｡蠑ｵ**:
        *   `save_temp_image(source_path: Path) -> Path`: 繝・Φ繝昴Λ繝ｪ繝・ぅ繝ｬ繧ｯ繝医Μ縺ｫ逕ｻ蜒上ｒ繧ｳ繝斐・縺励∽ｸ譎ゅヱ繧ｹ繧定ｿ斐☆縲Ａgame_id` 縺ｯ荳崎ｦ√・        *   `move_image_from_temp_to_game_data(temp_path: Path, game_id: str) -> Path`: 荳譎ゅヱ繧ｹ縺ｮ逕ｻ蜒上ｒ譛邨ら噪縺ｪ `data/[game_id]/images/` 縺ｫ遘ｻ蜍輔＆縺帙∵怙邨ゅヱ繧ｹ繧定ｿ斐☆縲らｧｻ蜍募・縺ｮ荳譎ら判蜒上・蜑企勁縲・        *   `delete_game_image(game_id: str, image_path: Path)`: 迚ｹ螳壹・繧ｲ繝ｼ繝縺ｮ逕ｻ蜒上ｒ蜑企勁・亥商縺・判蜒上・蝣ｴ蜷医ｂ蟇ｾ蠢懶ｼ峨・        *   `cleanup_temp_image(temp_path: Path)`: 謖・ｮ壹＆繧後◆荳譎ら判蜒上ｒ蜑企勁・医く繝｣繝ｳ繧ｻ繝ｫ譎ゅ↑縺ｩ・峨・        *   `validate_image(image_path: Path) -> bool`: 逕ｻ蜒上ヵ繧｡繧､繝ｫ縺ｮ譛牙柑諤ｧ繧偵メ繧ｧ繝・け縲・    *   **`GameService` 諡｡蠑ｵ**: `register_game` 縺翫ｈ縺ｳ `update_game_details` 繝｡繧ｽ繝・ラ繧呈僑蠑ｵ縺励∽ｸ譎ら判蜒上ヱ繧ｹ繧貞女縺大叙繧翫～ImageManager` 縺ｮ譁ｰ縺励＞遘ｻ蜍輔・蜑企勁繝｡繧ｽ繝・ラ繧貞他縺ｳ蜃ｺ縺吶ら判蜒乗､懆ｨｼ繧・`ImageManager` 邨檎罰縺ｧ陦後≧縲・*   **谿ｵ髫守噪螳溯｣・*:
    1.  `ImageManager` 縺ｫ荳譎ゆｿ晏ｭ倥∫ｧｻ蜍輔∝炎髯､縲∵､懆ｨｼ縺ｮ讖溯・繧定ｿｽ蜉縲・    2.  `game_detail_dialog.py` 縺ｧ縲√Θ繝ｼ繧ｶ繝ｼ蜈･蜉帙→逕ｻ蜒城∈謚槭ｒ荳譎ら噪縺ｫ菫晄戟縺励～ImageManager` 縺ｮ譁ｰ讖溯・繧貞茜逕ｨ縺吶ｋ繝ｭ繧ｸ繝・け繧貞ｮ溯｣・・    3.  `GameService` 縺ｧ縲∫匳骭ｲ/譖ｴ譁ｰ譎ゅ↓ `ImageManager` 縺ｮ譁ｰ讖溯・繧貞他縺ｳ蜃ｺ縺励∫判蜒上ヱ繧ｹ繧偵ご繝ｼ繝繝・・繧ｿ縺ｫ豌ｸ邯壼喧縺吶ｋ繝ｭ繧ｸ繝・け繧貞ｮ溯｣・・*   **繝ｪ繧ｹ繧ｯ霆ｽ貂・*: 雋ｬ蜍吶・譏守｢ｺ縺ｪ蛻・屬縺ｨ縲∵里蟄倥・UI/Service/Repository縺ｮ騾｣謳ｺ繝｢繝・Ν繧堤ｶｭ謖√・
**繝医Ξ繝ｼ繝峨が繝・*:
*   笨・雋ｬ蜍吶ｒ驕ｩ蛻・↓蛻・淵縺励～ImageManager` 縺ｫ逕ｻ蜒城未騾｣縺ｮ蜈ｨ縺ｦ縺ｮ繝ｭ繧ｸ繝・け繧帝寔邏・〒縺阪ｋ縲・*   笨・`GameService` 縺ｯ逕ｻ蜒上・迚ｩ逅・噪縺ｪ謫堺ｽ懊・隧ｳ邏ｰ縺九ｉ隗｣謾ｾ縺輔ｌ縲√ｈ繧企ｫ倥Ξ繝吶Ν縺ｪ繝薙ず繝阪せ繝ｭ繧ｸ繝・け縺ｫ髮・ｸｭ縺ｧ縺阪ｋ縲・*   笨・`game_detail_dialog.py` 縺ｯ `ImageManager` 縺ｮ讖溯・繧剃ｽｿ縺｣縺ｦ邁｡貎斐↓螳溯｣・〒縺阪ｋ縲・*   笶・`ImageManager` 縺ｮ繧､繝ｳ繧ｿ繝ｼ繝輔ぉ繝ｼ繧ｹ縺悟､ｧ蟷・↓諡｡蠑ｵ縺輔ｌ繧九・
## 4. Implementation Complexity & Risk

*   **蜉ｪ蜉・*: M (3-7譌･):
    *   `game_detail_dialog.py` (UI) 縺ｮ迥ｶ諷狗ｮ｡逅・Ο繧ｸ繝・け縺ｮ螟画峩縲・    *   `ImageManager` 縺ｮ繧､繝ｳ繧ｿ繝ｼ繝輔ぉ繝ｼ繧ｹ諡｡蠑ｵ縺ｨ縲∬､・焚縺ｮ荳譎ゅヵ繧｡繧､繝ｫ謫堺ｽ懊Ο繧ｸ繝・け縺ｮ螳溯｣・・    *   `GameService` 縺ｮ `register_game` 縺翫ｈ縺ｳ `update_game_details` 縺ｮ隱ｿ謨ｴ縲・*   **繝ｪ繧ｹ繧ｯ**: Medium:
    *   繝輔ぃ繧､繝ｫ謫堺ｽ懊→繝ｩ繧､繝輔し繧､繧ｯ繝ｫ邂｡逅・(荳譎ゅヵ繧｡繧､繝ｫ縺ｮ遐ｴ譽・↑縺ｩ) 縺ｧ荳榊・蜷医′逋ｺ逕溘☆繧句庄閭ｽ諤ｧ縲・    *   譌｢蟄倥・ `ImageManager` 縺ｮ `game_id` 繝吶・繧ｹ縺ｮ繝輔ぃ繧､繝ｫ繝代せ讒矩縺ｫ縲∽ｸ譎ゅヵ繧｡繧､繝ｫ邂｡逅・ｒ縺ｩ縺・ｵｱ蜷医☆繧九°縺ｮ險ｭ險医・
## 5. Recommendations for design phase

*   **謗ｨ螂ｨ繧｢繝励Ο繝ｼ繝・*: 繧ｪ繝励す繝ｧ繝ｳC (繝上う繝悶Μ繝・ラ繧｢繝励Ο繝ｼ繝・
*   **繧ｭ繝ｼ豎ｺ螳・*: `ImageManager` 縺ｮ譁ｰ縺励＞繝｡繧ｽ繝・ラ縺ｮ蜈ｷ菴鍋噪縺ｪ繧ｷ繧ｰ繝阪メ繝｣縺ｨ縲∽ｸ譎ゅヵ繧｡繧､繝ｫ縺ｮ菫晏ｭ伜ｴ謇縲∝多蜷崎ｦ丞援繧貞ｮ夂ｾｩ縺吶ｋ縲・*   **遐皮ｩｶ鬆・岼**:
    *   逕ｻ蜒上ヵ繧｡繧､繝ｫ縺ｮ繝舌Μ繝・・繧ｷ繝ｧ繝ｳ (`validate_image`) 縺ｮ蜈ｷ菴鍋噪縺ｪ螳溯｣・婿豕・(Python Imaging Library (PIL/Pillow) 縺ｮ蛻ｩ逕ｨ縺ｪ縺ｩ)縲・    *   荳譎ゅヵ繧｡繧､繝ｫ縺ｮ閾ｪ蜍輔け繝ｪ繝ｼ繝ｳ繧｢繝・・謌ｦ逡･・井ｾ九∴縺ｰ縲√い繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ襍ｷ蜍墓凾繧・ｸ螳壽悄髢鍋ｵ碁℃蠕鯉ｼ峨・
