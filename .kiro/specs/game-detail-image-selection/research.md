# Research & Design Decisions Template

## Summary
- **Feature**: `game-detail-image-selection`
- **Discovery Scope**: New Feature
- **Key Findings**:
  - PySide6 迺ｰ蠅・ｸ九〒縺ｮ逕ｻ蜒城撼蜷梧悄繝ｭ繝ｼ繝峨↓縺ｯQThread/QRunnable縺ｨ繧ｷ繧ｰ繝翫Ν繝ｻ繧ｹ繝ｭ繝・ヨ繝｡繧ｫ繝九ぜ繝縺碁←蛻・・  - 逕ｻ蜒丞・逅・Λ繧､繝悶Λ繝ｪ縺ｨ縺励※Pillow縺梧里蟄倥・Python繧ｨ繧ｳ繧ｷ繧ｹ繝・Β縺ｫ鬥ｴ譟薙∩繧・☆縺上＿Pixmap縺ｸ縺ｮ螟画鋤繧ょｮｹ譏薙・  - 繝輔ぃ繧､繝ｫ謫堺ｽ懊・`shutil`縺ｨ`pathlib`縺ｧ繧ｯ繝ｭ繧ｹ繝励Λ繝・ヨ繝輔か繝ｼ繝縺ｫ蟇ｾ蠢懷庄閭ｽ縲・
## Research Log

### Python縺ｫ縺翫￠繧狗判蜒丞・逅・Λ繧､繝悶Λ繝ｪ縺ｮ驕ｸ螳・- **Context**: 繧ｲ繝ｼ繝逕ｻ蜒上・隱ｭ縺ｿ霎ｼ縺ｿ縲√Μ繧ｵ繧､繧ｺ縲∽ｿ晏ｭ倥∬｡ｨ遉ｺ繧定｡後≧蠢・ｦ√′縺ゅｋ縺溘ａ縲・←蛻・↑逕ｻ蜒丞・逅・Λ繧､繝悶Λ繝ｪ繧定ｪｿ譟ｻ縲・- **Sources Consulted**: Python蜈ｬ蠑上ラ繧ｭ繝･繝｡繝ｳ繝医￣yPI縲ヾtack Overflow
- **Findings**:
  - **Pillow (PIL Fork)**: Python縺ｧ譛繧ょｺ・￥菴ｿ繧上ｌ縺ｦ縺・ｋ逕ｻ蜒丞・逅・Λ繧､繝悶Λ繝ｪ縲りｱ雁ｯ後↑讖溯・縲∵ｴｻ逋ｺ縺ｪ繧ｳ繝溘Η繝九ユ繧｣縲～QPixmap`縺ｨ縺ｮ騾｣謳ｺ萓九′螟壹＞縲・  - **OpenCV**: 鬮伜ｺｦ縺ｪ逕ｻ蜒丞・逅・・繧ｳ繝ｳ繝斐Η繝ｼ繧ｿ繝ｼ繝薙ず繝ｧ繝ｳ蜷代￠縲よ悽讖溯・縺ｫ縺ｯ繧ｪ繝ｼ繝舌・繧ｹ繝壹ャ繧ｯ縲・  - **Imageio**: 豎守畑逧・↑逕ｻ蜒終/O繝ｩ繧､繝悶Λ繝ｪ縲１illow縺ｨ讖溯・縺碁㍾隍・☆繧矩Κ蛻・′縺ゅｋ縲・- **Implications**: Pillow繧呈治逕ｨ縺吶ｋ縺薙→縺ｧ縲～QPixmap`縺ｸ縺ｮ螟画鋤繧偵せ繝繝ｼ繧ｺ縺ｫ陦後∴縲√ヵ繧｡繧､繝ｫ繝輔か繝ｼ繝槭ャ繝茨ｼ・NG, JPG, WEBP, GIF・峨・繧ｵ繝昴・繝医ｂ邯ｲ鄒・〒縺阪ｋ縲・
### PySide6縺ｫ縺翫￠繧矩撼蜷梧悄逕ｻ蜒上Ο繝ｼ繝峨→UI譖ｴ譁ｰ
- **Context**: 荳隕ｧ逕ｻ髱｢縺ｧ縺ｮ逕ｻ蜒剰｡ｨ遉ｺ縺ｯUI繧ｹ繝ｬ繝・ラ繧偵ヶ繝ｭ繝・け縺励↑縺・撼蜷梧悄蜃ｦ逅・′蠢・ｦ√・- **Sources Consulted**: Qt for Python (PySide6) 蜈ｬ蠑上ラ繧ｭ繝･繝｡繝ｳ繝医＿t Forum
- **Findings**:
  - **QThread**: 驥阪＞蜃ｦ逅・ｒ繝舌ャ繧ｯ繧ｰ繝ｩ繧ｦ繝ｳ繝峨せ繝ｬ繝・ラ縺ｧ螳溯｡後☆繧区ｨ呎ｺ也噪縺ｪ譁ｹ豕輔ゅせ繝ｬ繝・ラ髢馴壻ｿ｡縺ｫ縺ｯ繧ｷ繧ｰ繝翫Ν繝ｻ繧ｹ繝ｭ繝・ヨ繧剃ｽｿ逕ｨ縲・  - **QRunnable + QThreadPool**: 螟壽焚縺ｮ繧ｿ繧ｹ繧ｯ繧貞柑邇・噪縺ｫ蜃ｦ逅・☆繧九◆繧√・繧ｹ繝ｬ繝・ラ繝励・繝ｫ縲ょ九・・繧ｿ繧ｹ繧ｯ繧嘆Runnable縺ｨ縺励※螳夂ｾｩ縺励＿ThreadPool縺ｫ謚募・縲・  - **QImageReader / QPixmap.loadFromData**: 逕ｻ蜒上・隱ｭ縺ｿ霎ｼ縺ｿ閾ｪ菴薙・豈碑ｼ・噪譎る俣縺後°縺九ｋ蜿ｯ閭ｽ諤ｧ縺後≠繧九・- **Implications**: `QRunnable` 縺ｨ `QThreadPool` 繧堤ｵ・∩蜷医ｏ縺帙∫判蜒剰ｪｭ縺ｿ霎ｼ縺ｿ蜃ｦ逅・ｒ繝舌ャ繧ｯ繧ｰ繝ｩ繧ｦ繝ｳ繝峨〒螳溯｡後ょｮ御ｺ・ｾ後↓繧ｷ繧ｰ繝翫Ν繧堤匱陦後＠縲ゞI繧ｹ繝ｬ繝・ラ縺ｧ `QPixmap` 繧呈峩譁ｰ縺吶ｋ繧｢繝励Ο繝ｼ繝√′譛繧る←蛻・ゅ％繧後↓繧医ｊ縲ゞI縺ｮ蠢懃ｭ疲ｧ繧堤ｶｭ謖√＠縺､縺､縲∬､・焚縺ｮ逕ｻ蜒上ｒ蜷梧凾縺ｫ繝ｭ繝ｼ繝峨〒縺阪ｋ縲・
### 繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ繝・・繧ｿ繝・ぅ繝ｬ繧ｯ繝医Μ縺ｮ邂｡逅・→繝輔ぃ繧､繝ｫ謫堺ｽ・- **Context**: 驕ｸ謚槭＆繧後◆逕ｻ蜒上ｒ繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縺ｮ`data/`繝・ぅ繝ｬ繧ｯ繝医Μ縺ｫ繧ｳ繝斐・縺励∵ｰｸ邯壼喧縺吶ｋ蠢・ｦ√′縺ゅｋ縲・- **Sources Consulted**: Python `os`, `shutil`, `pathlib` 繝｢繧ｸ繝･繝ｼ繝ｫ蜈ｬ蠑上ラ繧ｭ繝･繝｡繝ｳ繝・- **Findings**:
  - **`pathlib`**: 繧ｪ繝悶ず繧ｧ繧ｯ繝域欠蜷代〒繝代せ繧呈桶縺・√け繝ｭ繧ｹ繝励Λ繝・ヨ繝輔か繝ｼ繝蟇ｾ蠢懊′螳ｹ譏薙ゅヱ繧ｹ縺ｮ邨仙粋縲√ヵ繧｡繧､繝ｫ蜷阪・謚ｽ蜃ｺ縺ｪ縺ｩ縺檎峩諢溽噪縲・  - **`shutil.copy2`**: 繝輔ぃ繧､繝ｫ縺ｮ繧ｳ繝斐・縺ｨ繝｡繧ｿ繝・・繧ｿ縺ｮ菫晄戟縺ｫ驕ｩ縺励※縺・ｋ縲・  - **`os.makedirs`**: 蠢・ｦ√↓蠢懊§縺ｦ繝・ぅ繝ｬ繧ｯ繝医Μ繧剃ｽ懈・縲・- **Implications**: `pathlib`縺ｧ繧ｳ繝斐・蜈医・繝代せ繧呈ｧ狗ｯ峨＠縲～shutil.copy2`縺ｧ螳牙・縺ｫ繝輔ぃ繧､繝ｫ繧蛋data/`繝・ぅ繝ｬ繧ｯ繝医Μ縺ｫ繧ｳ繝斐・縺吶ｋ縲Ａdata/`繝・ぅ繝ｬ繧ｯ繝医Μ蜀・↓繧ｲ繝ｼ繝ID縺ｪ縺ｩ繧堤畑縺・◆繧ｵ繝悶ョ繧｣繝ｬ繧ｯ繝医Μ繧剃ｽ懈・縺励∬｡晉ｪ√ｒ驕ｿ縺代ｋ縲・
## Architecture Pattern Evaluation
- **Option**: Service Layer & UI Layer with Asynchronous Worker
- **Description**: 譌｢蟄倥・繧ｵ繝ｼ繝薙せ螻､(`GameService`)繧呈僑蠑ｵ縺励∫判蜒城未騾｣縺ｮ繝ｭ繧ｸ繝・け繧定ｿｽ蜉縲６I螻､ (`GameDetailDialog`, `MainWindow`, `GameCardWidget`) 縺ｯ繧ｵ繝ｼ繝薙せ螻､縺九ｉ逕ｻ蜒乗ュ蝣ｱ繧貞叙蠕励＠縲・撼蜷梧悄繝ｯ繝ｼ繧ｫ繝ｼ (`ImageLoader`) 繧貞茜逕ｨ縺励※逕ｻ蜒上ｒ繝ｭ繝ｼ繝峨・陦ｨ遉ｺ縲・- **Strengths**: 譌｢蟄倥・繧｢繝ｼ繧ｭ繝・け繝√Ε繝代ち繝ｼ繝ｳ・医し繝ｼ繝薙せ螻､縲√Μ繝昴ず繝医Μ繝代ち繝ｼ繝ｳ・峨→縺ｮ謨ｴ蜷域ｧ縺碁ｫ倥＞縲６I繧ｹ繝ｬ繝・ラ縺ｮ繝悶Ο繝・け繧貞屓驕ｿ縺励∝ｿ懃ｭ疲ｧ繧堤ｶｭ謖√・- **Risks / Limitations**: 繧ｹ繝ｬ繝・ラ髢馴壻ｿ｡縺ｮ邂｡逅・・隍・尅縺輔ゅお繝ｩ繝ｼ繝上Φ繝峨Μ繝ｳ繧ｰ縺ｮ險ｭ險医′蠢・ｦ√・- **Notes**: LitheLauncher縺ｮ繝｢繧ｸ繝･繝ｩ繝ｼ繧｢繝ｼ繧ｭ繝・け繝√Ε縺ｫ豐ｿ縺・・
## Design Decisions

### Decision: 逕ｻ蜒丞・逅・Λ繧､繝悶Λ繝ｪ縺ｫPillow繧呈治逕ｨ
- **Context**: 繧ｲ繝ｼ繝逕ｻ蜒上・螟壽ｧ倥↑繝輔か繝ｼ繝槭ャ繝茨ｼ・NG, JPG, WEBP, GIF・峨・繧ｵ繝昴・繝医→蜉ｹ邇・噪縺ｪ蜃ｦ逅・￣ySide6縺ｮQPixmap縺ｨ縺ｮ騾｣謳ｺ縲・- **Alternatives Considered**:
  1. OpenCV 窶・鬮俶ｩ溯・縺縺梧悽讖溯・縺ｫ縺ｯ繧ｪ繝ｼ繝舌・繧ｹ繝壹ャ繧ｯ縲∽ｾ晏ｭ倬未菫ゅ′蠅励∴繧九・  2. 閾ｪ菴懊・逕ｻ蜒剰ｪｭ縺ｿ霎ｼ縺ｿ蜃ｦ逅・窶・繝｡繝ｳ繝・リ繝ｳ繧ｹ繧ｳ繧ｹ繝医′鬮倥￥縲√ヰ繧ｰ縺ｮ繝ｪ繧ｹ繧ｯ縲・- **Selected Approach**: Pillow (PIL Fork) 繧呈治逕ｨ縲・- **Rationale**: Python繧ｨ繧ｳ繧ｷ繧ｹ繝・Β縺ｧ縺ｮ繝・ヵ繧｡繧ｯ繝医せ繧ｿ繝ｳ繝繝ｼ繝峨〒縺ゅｊ縲∝ｿ・ｦ√↑讖溯・繧堤ｶｲ鄒・＠縲＿Pixmap縺ｸ縺ｮ螟画鋤縺悟ｮｹ譏薙〒縺ゅｋ縺溘ａ縲・- **Trade-offs**: 譁ｰ隕丈ｾ晏ｭ倬未菫ゅ・霑ｽ蜉縲・- **Follow-up**: `requirements.txt`縺ｸ縺ｮPillow縺ｮ霑ｽ蜉縲√ン繝ｫ繝峨す繧ｹ繝・Β縺ｸ縺ｮ邨・∩霎ｼ縺ｿ縲・
### Decision: 荳隕ｧ逕ｻ髱｢縺ｮ逕ｻ蜒上Ο繝ｼ繝峨↓QThreadPool縺ｨQRunnable繧剃ｽｿ逕ｨ
- **Context**: 荳隕ｧ逕ｻ髱｢縺ｧ螟壽焚縺ｮ繧ｲ繝ｼ繝逕ｻ蜒上ｒ髱槫酔譛溘↓繝ｭ繝ｼ繝峨＠縲ゞI縺ｮ蠢懃ｭ疲ｧ繧堤｢ｺ菫昴☆繧九◆繧√・- **Alternatives Considered**:
  1. 蜷・判蜒上Ο繝ｼ繝峨↓蛟句挨縺ｮQThread繧剃ｽｿ逕ｨ 窶・繧ｹ繝ｬ繝・ラ謨ｰ縺悟､壹￥縺ｪ繧翫☆縺弱ｋ蜿ｯ閭ｽ諤ｧ縲∫ｮ｡逅・′辣ｩ髮代・  2. UI繧ｹ繝ｬ繝・ラ縺ｧ蜷梧悄逧・↓繝ｭ繝ｼ繝・窶・UI縺ｮ繝悶Ο繝・け縲∝ｿ懃ｭ疲ｧ菴惹ｸ九・- **Selected Approach**: `QThreadPool` 縺・`QRunnable` 繧ｪ繝悶ず繧ｧ繧ｯ繝医ｒ邂｡逅・＠縲∬､・焚縺ｮ逕ｻ蜒上ｒ繝舌ャ繧ｯ繧ｰ繝ｩ繧ｦ繝ｳ繝峨〒荳ｦ陦後＠縺ｦ繝ｭ繝ｼ繝峨☆繧九ゅΟ繝ｼ繝牙ｮ御ｺ・ｾ後↓ `QThread` 縺九ｉ繧ｷ繧ｰ繝翫Ν繧堤匱陦後＠縺ｦUI繧ｹ繝ｬ繝・ラ縺ｧ `QPixmap` 繧呈峩譁ｰ縲・- **Rationale**: 繧ｹ繝ｬ繝・ラ繝ｪ繧ｽ繝ｼ繧ｹ繧貞柑邇・噪縺ｫ邂｡逅・＠縺､縺､縲ゞI縺ｮ髱槭ヶ繝ｭ繝・け蛹悶ｒ螳溽樟縺ｧ縺阪ｋ縺溘ａ縲・- **Trade-offs**: 繧ｹ繝ｬ繝・ラ髢馴壻ｿ｡縺ｨ繧ｨ繝ｩ繝ｼ繝上Φ繝峨Μ繝ｳ繧ｰ縺ｮ險ｭ險医′蠢・ｦ√→縺ｪ繧九・- **Follow-up**: `ImageLoader` 繧ｯ繝ｩ繧ｹ縺ｮ險ｭ險医→螳溯｣・・
### Decision: 逕ｻ蜒丈ｿ晏ｭ倥ョ繧｣繝ｬ繧ｯ繝医Μ縺ｯ`data/{game_id}/images`縺ｨ縺吶ｋ
- **Context**: 驕ｸ謚槭＆繧後◆繧ｲ繝ｼ繝逕ｻ蜒上ｒ繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ繝・・繧ｿ繝・ぅ繝ｬ繧ｯ繝医Μ蜀・↓謨ｴ逅・＠縺ｦ菫晏ｭ倥＠縲√ご繝ｼ繝縺ｨ縺ｮ髢｢騾｣莉倥￠繧呈・遒ｺ縺ｫ縺吶ｋ縺溘ａ縲・- **Alternatives Considered**:
  1. `data/images/`縺ｫ蜈ｨ逕ｻ蜒上ｒ繝輔Λ繝・ヨ縺ｫ菫晏ｭ・窶・繝輔ぃ繧､繝ｫ蜷崎｡晉ｪ√・蜿ｯ閭ｽ諤ｧ縲∫ｮ｡逅・′辣ｩ髮代・  2. 繝ｦ繝ｼ繧ｶ繝ｼ縺梧欠螳壹＠縺溘ヱ繧ｹ縺ｫ菫晏ｭ・窶・繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縺檎判蜒上ｒ邂｡逅・＠縺ｫ縺上＞縲・- **Selected Approach**: `data/`繝・ぅ繝ｬ繧ｯ繝医Μ蜀・↓繧ｲ繝ｼ繝ID繧貞錐蜑阪↓謖√▽繧ｵ繝悶ョ繧｣繝ｬ繧ｯ繝医Μ繧剃ｽ懈・縺励√＆繧峨↓縺昴・荳ｭ縺ｫ逕ｻ蜒上ｒ菫晏ｭ倥☆繧九ゆｾ・ `data/{game_id}/images/cover.png`
- **Rationale**: 繧ｲ繝ｼ繝縺斐→縺ｫ逕ｻ蜒上ｒ蛻・屬縺ｧ縺阪∬｡晉ｪ√ｒ驕ｿ縺代∫ｮ｡逅・′螳ｹ譏薙↓縺ｪ繧九◆繧√・- **Trade-offs**: 繝・ぅ繝ｬ繧ｯ繝医Μ讒矩縺梧ｷｱ縺上↑繧九・- **Follow-up**: `GameService`縺ｧ逕ｻ蜒上・繧ｳ繝斐・縺ｨ繝代せ逕滓・繝ｭ繧ｸ繝・け繧貞ｮ溯｣・・
## Risks & Mitigations
- **髱槫酔譛溷・逅・・隍・尅諤ｧ**:
  - **繝ｪ繧ｹ繧ｯ**: UI繧ｹ繝ｬ繝・ラ縺ｨ繝舌ャ繧ｯ繧ｰ繝ｩ繧ｦ繝ｳ繝峨せ繝ｬ繝・ラ髢薙・繝・・繧ｿ遶ｶ蜷医ゞI譖ｴ譁ｰ譎ゅ・繝・ャ繝峨Ο繝・け繧・け繝ｩ繝・す繝･縲・  - **霆ｽ貂帷ｭ・*: PySide6縺ｮ繧ｷ繧ｰ繝翫Ν繝ｻ繧ｹ繝ｭ繝・ヨ繝｡繧ｫ繝九ぜ繝繧貞宍蟇・↓蛻ｩ逕ｨ縺励ゞI譖ｴ譁ｰ縺ｯ蠢・★UI繧ｹ繝ｬ繝・ラ縺ｧ陦後≧縲ゅヰ繝・け繧ｰ繝ｩ繧ｦ繝ｳ繝峨せ繝ｬ繝・ラ縺ｧ縺ｮ繝・・繧ｿ繧｢繧ｯ繧ｻ繧ｹ縺ｯ繧ｹ繝ｬ繝・ラ繧ｻ繝ｼ繝輔↑譁ｹ豕輔ｒ遒ｺ菫昴・- **逕ｻ蜒上ヵ繧｡繧､繝ｫ繧ｵ繧､繧ｺ縺ｨ繝代ヵ繧ｩ繝ｼ繝槭Φ繧ｹ**:
  - **繝ｪ繧ｹ繧ｯ**: 螟ｧ螳ｹ驥上・逕ｻ蜒上ヵ繧｡繧､繝ｫ縺ｮ隱ｭ縺ｿ霎ｼ縺ｿ縲√さ繝斐・縲√Γ繝｢繝ｪ豸郁ｲｻ縺ｫ繧医ｋ繧｢繝励Μ繧ｱ繝ｼ繧ｷ繝ｧ繝ｳ縺ｮ繝代ヵ繧ｩ繝ｼ繝槭Φ繧ｹ菴惹ｸ九・  - **霆ｽ貂帷ｭ・*: 逕ｻ蜒上Ο繝ｼ繝画凾縺ｫ蠢・ｦ√↓蠢懊§縺ｦ繝ｪ繧ｵ繧､繧ｺ蜃ｦ逅・ｒ蟆主・縲ゅΓ繝｢繝ｪ繧ｭ繝｣繝・す繝･謌ｦ逡･縺ｮ讀懆ｨ弱・- **繝輔ぃ繧､繝ｫ繧｢繧ｯ繧ｻ繧ｹ讓ｩ髯舌→繝・ぅ繧ｹ繧ｯ螳ｹ驥・*:
  - **繝ｪ繧ｹ繧ｯ**: `data/`繝・ぅ繝ｬ繧ｯ繝医Μ縺ｸ縺ｮ譖ｸ縺崎ｾｼ縺ｿ讓ｩ髯舌′縺ｪ縺・ｴ蜷医ｄ縲√ョ繧｣繧ｹ繧ｯ螳ｹ驥上′荳崎ｶｳ縺励※縺・ｋ蝣ｴ蜷医↓繝輔ぃ繧､繝ｫ繧ｳ繝斐・縺悟､ｱ謨励☆繧九・  - **霆ｽ貂帷ｭ・*: 繝輔ぃ繧､繝ｫ繧ｳ繝斐・蜃ｦ逅・凾縺ｫ萓句､門・逅・ｒ螳溯｣・＠縲√Θ繝ｼ繧ｶ繝ｼ縺ｫ蛻・°繧翫ｄ縺吶＞繧ｨ繝ｩ繝ｼ繝｡繝・そ繝ｼ繧ｸ繧定｡ｨ遉ｺ縺吶ｋ縲ゅさ繝斐・蜑阪↓繝・ぅ繧ｹ繧ｯ螳ｹ驥上ｒ繝√ぉ繝・け縺吶ｋ讖滓ｧ九ｒ讀懆ｨ弱・- **譁ｰ隕丈ｾ晏ｭ倬未菫１illow縺ｮ蟆主・**:
  - **繝ｪ繧ｹ繧ｯ**: Pillow縺ｮ繝舌・繧ｸ繝ｧ繝ｳ陦晉ｪ√√ン繝ｫ繝臥腸蠅・∈縺ｮ蠖ｱ髻ｿ縲・  - **霆ｽ貂帷ｭ・*: `requirements.txt`縺ｫPillow縺ｮ繝舌・繧ｸ繝ｧ繝ｳ繧呈・險倥＠縲∽ｻｮ諠ｳ迺ｰ蠅・〒邂｡逅・☆繧九・I/CD迺ｰ蠅・〒縺ｮ繝・せ繝医ｒ蠑ｷ蛹悶・
## References
- PySide6 Official Documentation: [https://doc.qt.io/qtforpython/](https://doc.qt.io/qtforpython/)
- Pillow Documentation: [https://pillow.readthedocs.io/en/stable/](https://pillow.readthedocs.io/en/stable/)
- Python `pathlib` module: [https://docs.python.org/ja/3/library/pathlib.html](https://docs.python.org/ja/3/library/pathlib.html)
- Python `shutil` module: [https://docs.python.org/ja/3/library/shutil.html](https://docs.python.org/ja/3/library/shutil.html)
